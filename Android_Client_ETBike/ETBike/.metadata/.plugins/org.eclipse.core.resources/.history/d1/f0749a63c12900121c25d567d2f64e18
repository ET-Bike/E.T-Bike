package com.swmaestro.etbike.activity;

import android.location.Criteria;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;

public class GPSProvider {
	Criteria criteria;
	Location gpsLoc;
	String mProvider;
	LocationManager mLocMan;
	LocationListener mLocListener;
	
	public GPSProvider(LocationManager mLocMan) {
		this.mLocMan = mLocMan; //GPS ï¿½ï¿½ï¿½ï¿½ ï¿½Þ¾Æ¿ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ locationmanager Å¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ®ï¿½ï¿½ ï¿½Ýµï¿½ï¿?ï¿½Ê¿ï¿½
		mLocListener = new LocationListener(){ // ï¿½ï¿½Ä¡ï¿½ï¿½ ï¿½ï¿½Ãµï¿?ï¿½ï¿½ï¿½ï¿½Ì½ï¿½ï¿½ï¿?ï¿½Ù¾ï¿½ï¿½ï¿½ Eventï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ê¸ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ö¾ï¿½ï¿?ï¿½Ñ´ï¿½.

			public void onLocationChanged(Location loc) {  // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿?ï¿½ï¿½Ä¡ï¿½ï¿½ ï¿½ï¿½ï¿½Ò¶ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½×¸ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ø³ï¿½ï¿½ï¿½ ï¿½Þ¼Òµï¿½
				loc.getLatitude(); 
				loc.getLongitude();
			} 
			public void onProviderDisabled(String provider){}
			public void onProviderEnabled(String provider) {}
			public void onStatusChanged(String provider, int status, Bundle extras){}
		};
		
		criteria = new Criteria();
		mProvider = mLocMan.getBestProvider(criteria, true);
		gpsLoc = mLocMan.getLastKnownLocation(mProvider);
	}
	
	public double getDLatitude(){
		mProvider = mLocMan.getBestProvider(criteria, true); // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ú¸ï¿½ Ã£ï¿½Æ³ï¿½ï¿½ï¿½
		mLocMan.requestLocationUpdates(mProvider, 0, 0, mLocListener); // ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ú¸ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ®ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
		gpsLoc = mLocMan.getLastKnownLocation(mProvider);  // ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½Ä¾ï¿½ï¿½Ø³ï¿½ï¿½ï¿½
		return gpsLoc.getLatitude(); //Latitude ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
	}
	
	public double getDLongitude(){
		mProvider = mLocMan.getBestProvider(criteria, true); // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ú¸ï¿½ Ã£ï¿½Æ³ï¿½ï¿½ï¿½
		mLocMan.requestLocationUpdates(mProvider, 0, 0, mLocListener); // ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ú¸ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ®ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
		gpsLoc = mLocMan.getLastKnownLocation(mProvider);  // ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½Ä¾ï¿½ï¿½Ø³ï¿½ï¿½ï¿½
		return gpsLoc.getLongitude();
	}
	
	public String getSLatitude() {
		mProvider = mLocMan.getBestProvider(criteria, true); // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ú¸ï¿½ Ã£ï¿½Æ³ï¿½ï¿½ï¿½
		mLocMan.requestLocationUpdates(mProvider, 0, 0, mLocListener); // ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ú¸ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ®ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
		gpsLoc = mLocMan.getLastKnownLocation(mProvider);  // ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½Ä¾ï¿½ï¿½Ø³ï¿½ï¿½ï¿½
		return gpsLoc.getLatitude() + "";
	}
	
	public String getSLongitude(){
		mProvider = mLocMan.getBestProvider(criteria, true); // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ú¸ï¿½ Ã£ï¿½Æ³ï¿½ï¿½ï¿½
		mLocMan.requestLocationUpdates(mProvider, 0, 0, mLocListener); // ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½Ú¸ï¿½ ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ®ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
		gpsLoc = mLocMan.getLastKnownLocation(mProvider);  // ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½Ä¡ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½Ä¾ï¿½ï¿½Ø³ï¿½ï¿½ï¿½
		return gpsLoc.getLongitude() + "";
	}
}
